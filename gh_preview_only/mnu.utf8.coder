;=================== This file must be encoded in UTF-16 LE ===================;
;------------------------------------------------------------------------------;
;                           CODER PLUGIN SYNTAX FILE                           ;
;             for comfort file viewing/editing set TAB size to 8               ;
;------------------------------------------------------------------------------;
; Target.....: Total Commander menu file                                       ;
; Version....: 1.1.2                                                           ;
; Author.....: yozhic                                                          ;
; Created....: 02.09.2018                                                      ;
; Modified...: 06.10.2025                                                      ;
;------------------------------------------------------------------------------;


Files:
;==========
;File types
;==========
*.mnu


;----------------------------------------------;
;                  HighLight                   ;
;----------------------------------------------;


Font:
;=================================================================
;FontStyle             FontSize              FaceName
;=================================================================
${HighLight_FontStyle} ${HighLight_FontSize} ${HighLight_FaceName}


Colors:
;=============================================================================================================================================================================================================================================================================================================================================================================================================================
;BasicTextColor             BasicBkColor              SelTextColor              SelBkColor              LineTextColor              LineBkColor              LineBorderColor              AltTextColor              AltBkColor              AltBorderColor              ColumnColor              MarkerColor              CaretColor              UrlColor              ActiveUrlColor              VisitUrlColor
;=============================================================================================================================================================================================================================================================================================================================================================================================================================
${HighLight_BasicTextColor} ${HighLight_BasicBkColor} ${HighLight_SelTextColor} ${HighLight_SelBkColor} ${HighLight_LineTextColor} ${HighLight_LineBkColor} ${HighLight_LineBorderColor} ${HighLight_AltTextColor} ${HighLight_AltBkColor} ${HighLight_AltBorderColor} ${HighLight_ColumnColor} ${HighLight_MarkerColor} ${HighLight_CaretColor} ${HighLight_UrlColor} ${HighLight_ActiveUrlColor} ${HighLight_VisitUrlColor}


BkImage:
;==================================================
;BkImageFile              BkImageAlpha
;==================================================
${HighLight_BkImageFile}  ${HighLight_BkImageAlpha}


AutoMark:
;====================================================================================================================
;AutoMarkFlags             AutoMarkFontStyle              AutoMarkTextColor              AutoMarkBkColor
;====================================================================================================================
${HighLight_AutoMarkFlags} ${HighLight_AutoMarkFontStyle} ${HighLight_AutoMarkTextColor} ${HighLight_AutoMarkBkColor}


Quotes:
;===================================================================================
;Flags  Font    Color   Color   Quote   Quote   Escape  Quote   Quote   Parent  Rule
;       style   text    bkgrnd  start   end     char    include exclude ID      ID
;===================================================================================
;--кавычки поддерживаются только двойные--
4	3	${STR}	0	`"`	`"`	``	``	``	20	10
4	3	${STR}	0	`"`	`"`	``	``	``	21	10
4	3	${STR}	0	`"`	`"`	``	``	``	31	11
1540	2	${OP}	0	"MENUITEM"  "SEPARATOR"	""	" "	""
;1540	2	${XNUM}	0	"MENUITEM"  "SEPARATOR"	""	" "	""


QuotesRE:
;===========================================================================================
;Flags  Pattern         \BackRef=(FontStyle,ColorText,ColorBk) \BackRef=...  ParentID RuleID
;===========================================================================================
;--родительское для строк MENUITEM--
1536  `MENUITEM\x20++"[^"\n]++",\x20*(?:\$[a-f\d]++|-?\d++|(?-i)[ce]m_(?i)[a-z\d_]++)`   `\0=(0,0,0)`	0	20
;  MENUITEM: десятичные id встроенных команд
1	`(?<=\W)(?:-\d{1,2}|\d{2,5})(?=\W)`	`\0=(0,${NUM},0)`	20
;  MENUITEM: шестнадцатиричные id встроенных команд
0	`\$[a-f\d]{2,4}(?=\W)`	`\0=(0,${ATTR},0)`	20
;  MENUITEM: встроенные команды
0	`(?<=\W)(?-i:cm_)(?i:[a-z\d_]++)`	`\0=(4,${VAR},0)`	20
;  MENUITEM: пользовательские команды
0	`(?<=\W)(?-i:em_)(?i:[\w\.\-]++)`	`\0=(3,${VAR},0)`	20
;--родительское для строк POPUP--
1536	`POPUP\x20++"[^"\n]++"`	`\0=(0,0,0)`	30	21
;--Alt-клавишы и табуляции внутри кавычек--
1	`\\t|&[^&\x20"]`	`\0=(4,${DEL1},0)`	10
;1	`\\t|&[^&\x20"]`	`\0=(4,${XSTR},0)`	10
;--расширение Autorun--
0	`/[DBCH]\b`	`\0=(0,${ATTR},0)`	31
0	`-?\d++`	`\0=(0,${NUM},0)`	31
0	`%`	`\0=(4,0,0)`	11
0	`(?<!\\)%\w++%`	`\0=(3,${VAR},0)`	31
;--сигнализация--
;  после END_POPUP, HELP_BREAK, STARTMENU только перевод строки
0	`(?:END_POPUP|HELP_BREAK|STARTMENU)[^\n]+`	`\0=(0,#FFF,#F00)`
;  после MENUITEM, POPUP запрещены табуляции
0	`(?:MENUITEM|POPUP)\t[\t\x20]*`	`\0=(0,#FFF,#F00)`
;  пока не получается придумать как сигнализировать запрет размещения STARTMENU сразу после HELP_BREAK


Delimiters:
;===============================================
;Flags  Font    Color   Color   Char(s)   Parent
;       style   text    bkgrnd            ID
;===============================================
1	0	0	0	" "
1	0	0	0	"	"
1	0	${DEL1}	0	`"`
1	0	${DEL1}	0	,	20
1	0	0	0	,
1	0	${DEL1}	0	(
1	0	${DEL1}	0	)
1	0	${DEL1}	0	\	31
1	0	${DEL2}	0	{
1	0	${DEL2}	0	}


Words:
;===========================================
;Flags  Font    Color   Color   Word  Parent
;       style   text    bkgrnd        ID
;===========================================
0	2	${AREA}	0	POPUP	30
0	2	${AREA}	0	END_POPUP	30
0	1	${OP}	0	MENUITEM	20
0	0	0	0	HELP_BREAK
0	0	0	0	STARTMENU


;----------------------------------------------;
;                   CodeFold                   ;
;----------------------------------------------;


FoldPanel:
;=================================================================================================================================================================================================================================================================================================================================================================================================================================================================
;PanelFirstBkColor            PanelSecondBkColor             PanelNormalFoldColor             PanelActiveFoldColor             PanelNormalNodeOpenBkColor             PanelNormalNodeCloseBkColor             PanelActiveNodeOpenBkColor             PanelActiveNodeCloseBkColor             PanelNormalNodeOpenSignColor             PanelNormalNodeCloseSignColor             PanelActiveNodeOpenSignColor             PanelActiveNodeCloseSignColor
;=================================================================================================================================================================================================================================================================================================================================================================================================================================================================
${CodeFold_PanelFirstBkColor} ${CodeFold_PanelSecondBkColor} ${CodeFold_PanelNormalFoldColor} ${CodeFold_PanelActiveFoldColor} ${CodeFold_PanelNormalNodeOpenBkColor} ${CodeFold_PanelNormalNodeCloseBkColor} ${CodeFold_PanelActiveNodeOpenBkColor} ${CodeFold_PanelActiveNodeCloseBkColor} ${CodeFold_PanelNormalNodeOpenSignColor} ${CodeFold_PanelNormalNodeCloseSignColor} ${CodeFold_PanelActiveNodeOpenSignColor} ${CodeFold_PanelActiveNodeCloseSignColor}


FoldList:
;================================================
;ListTextColor            ListBkColor
;================================================
${CodeFold_ListTextColor} ${CodeFold_ListBkColor}


TagMark:
;============================================================================================================
;TagMarkFlags            TagMarkFontStyle             TagMarkTextColor             TagMarkBkColor
;============================================================================================================
${CodeFold_TagMarkFlags} ${CodeFold_TagMarkFontStyle} ${CodeFold_TagMarkTextColor} ${CodeFold_TagMarkBkColor}


Skips:
;=====================================
;Flags  Skip            Skip    Escape
;       start           end     char
;=====================================
9	";"	""	""


Folds:
;===========================================================================
;Flags  Font    Color   Color   Fold   Fold   Deli      Parent  Rule    Rule
;       style   text    bkgrnd  start  end    miters    ID      ID      file
;===========================================================================
;--комментарии (недокументированные), только в начале строки--
262665	3	${COMM}	0	";"	""	""
2097256	0	0	0	"POPUP"  "END_POPUP(?![\x20\t])"  ""	0	30
139288	2	${OP}	0	"HELP_BREAK"	""	" 	"
139288	2	${OP}	0	"STARTMENU"	""	" 	"
262144	0	0	0	"em_aucmd"	""	""	0	31


;----------------------------------------------;
;                 AutoComplete                 ;
;----------------------------------------------;


CompleteList:
;=====================================================================================================================================================================================================================================================================================================================================================================================================================================================================
;ListFontStyle                ListFontSize                 ListFaceName                 ListLineGap                 ListBlockIcon `"C:\1.dll", 0` ListBlockIconMargins "left;right"    ListHlBaseIcon `"C:\1.dll", 0` ListHlBaseIconMargins "left;right"    ListDocWordIcon `"C:\1.dll", 0` ListDocWordIconMargins "left;right"    ListBasicTextColor                 ListBasicBkColor                 ListSelTextColor                 ListSelBkColor
;=====================================================================================================================================================================================================================================================================================================================================================================================================================================================================
${AutoComplete_ListFontStyle} ${AutoComplete_ListFontSize} ${AutoComplete_ListFaceName} ${AutoComplete_ListLineGap} ${AutoComplete_ListBlockIcon} ${AutoComplete_ListBlockIconMargins} ${AutoComplete_ListHlBaseIcon} ${AutoComplete_ListHlBaseIconMargins} ${AutoComplete_ListDocWordIcon} ${AutoComplete_ListDocWordIconMargins} ${AutoComplete_ListBasicTextColor} ${AutoComplete_ListBasicBkColor} ${AutoComplete_ListSelTextColor} ${AutoComplete_ListSelBkColor}


Blocks:
;========================
;Abbreviations and blocks
;========================
$~MENUITEM
MENUITEM "$[Text]", $[000]

$~POPUP
POPUP "$[]"
END_POPUP

$~SEPARATOR
MENUITEM SEPARATOR

$~em_aucmd
em_aucmd $[[/D/H/B/C$\]]$[ <icon>[ <func>[ <paramN>$\]$\]]